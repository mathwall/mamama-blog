{% extends "base.html.twig" %}

{% block head %}
  <title>Blog Mamama </title>
  <link href="/css/articles.css" rel="stylesheet">
{% endblock %}

{% block section %}

<div class="container">

      <div class="row">

        <!-- Blog Entries Column -->
        <div class="col-md-8">

          <h1 class="my-4">Articles</h1>

          {% for article in articles %}
          <!-- Blog Post -->
          <div class="card mb-4">
            <img class="card-img-top" src={{article.path_image}} alt="">
            <div class="card-body">
              <h2 class="card-title">{{ article.title }}</h2>
              <p class="card-text">{{ article.content }}</p>
              <a href={{ '/articles/' ~ article.id}} class="btn btn-primary">Read More &rarr;</a>
            </div>
            <div class="card-footer text-muted">
              Posted on {{ article.creation_date }} by {{ article.author }}
              <button id="comments">{{ article.nb_comments }}</button>
            </div>
          </div>
          {% endfor %}

          <!-- TODO Pagination
          <ul class="pagination justify-content-center mb-4">
            <li class="page-item">
              <a class="page-link" href="#">&larr; Older</a>
            </li>
            <li class="page-item disabled">
              <a class="page-link" href="#">Newer &rarr;</a>
            </li>
          </ul> -->

        </div>

        <!-- Search Column -->
        <div class="col-md-4">
          <form class="card my-4" action="/articles" method="post">
            <!-- Search -->
            <div>
              <h5 class="card-header">Search</h5>
              <div class="card-body">
                <div class="input-group">
                  <input type="text" class="form-control" name="text" placeholder="Search for...">
                </div>
              </div>
            </div>

          <!-- Categories -->
            <div>
              <h5 class="card-header">Categories</h5>
              <div class="card-body">
                <div class="row">
                  <div class="col-lg-6">
                    <select name="category">
                    <option value="all">All</option>
                      {% for category in search.categories %}
                        <option value={{ category.id }}>{{ category.name }}</option>
                      {% endfor %}
                    </select>
                  </div>
                </div>
              </div>
            </div>

          <!-- Tags -->
            <div>
              <h5 class="card-header">Tags</h5>
              <div class="card-body">
                <div class="row">
                  <div class="col-lg-6">
                    <ul class="list-unstyled mb-0">
                      {% for tag in search.tags %}
                      <li><label>{{ tag.name }}</label><input type="checkbox" name="tag" value={{ tag.id }}></li>
                      {% endfor %}
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <div>
              <span class="input-group-btn">
                <input class="btn btn-secondary" type="submit" value="Go">
              </span>
            </div>
          </form>
        </div>
        
      </div>
      <!-- /.row -->

    </div>
    <!-- /.container -->

{% endblock %}
